import{u as h,k as x,b as d,m as g,j as r,a as s,t as w,C as y}from"./index.98e253f8.js";import{B as N}from"./Button.769d98f0.js";import{C as v}from"./compressor.esm.c4e5fc50.js";import{u as k,a as S}from"./index.esm.73f68d62.js";const A=()=>{const{register:t,handleSubmit:i}=k(),l=h(),o=x(),[n,m]=d.exports.useState(""),c=g(),p=S(y,{onSuccess:({data:e})=>{localStorage.setItem("userDetails",JSON.stringify(e)),c(w(e))}});d.exports.useEffect(()=>{l!==null&&o("/")},[l,o]);const u=e=>{if(e.username===""||e.email===""||e.password==="")alert("Please fill in required fields");else{const a=new FormData;a.append("username",e.username),a.append("email",e.email),n&&a.append("avatar",n),a.append("password",e.password),p.mutate(a)}},b=e=>{if(e.target.files){const a=e.target.files[0];e.preventDefault(),new v(a,{quality:.6,success:f=>{m(f)}})}};return r("div",{className:"w-full lg:mt-20 flex flex-col items-center justify-center min-h-[80vh]",children:s("form",{onSubmit:i(u),encType:"multipart/form-data",className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[s("div",{className:"mb-4",children:[r("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Username"}),r("input",{...t("username",{required:!0}),className:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"username",type:"text",placeholder:"Enter Your Username",required:!0})]}),s("div",{className:"mb-4",children:[r("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),r("input",{...t("email",{required:!0}),className:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"email",type:"email",placeholder:"Your Email",required:!0})]}),s("div",{className:"mb-4",children:[r("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Avatar (optional)"}),r("input",{onChange:b,className:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"file",type:"file",placeholder:"Your Avatar "})]}),s("div",{className:"mb-6",children:[r("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),r("input",{className:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"password",type:"password",...t("password"),placeholder:"Enter your password"})]}),r("div",{className:"flex items-center justify-between",children:r(N,{type:"submit",bgColor:"bg-deepBlue",margin:"1",size:"md",textColor:"white",hover:"gray-800",title:"Sign Up"})})]})})};export{A as default};
