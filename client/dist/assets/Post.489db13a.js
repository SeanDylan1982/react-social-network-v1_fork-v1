import{j as t,b as l,_ as w,l as p,k as g,a,E as v,L as N}from"./index.98e253f8.js";import{B as _,P as y,A as b,D as j}from"./PostIcons.51df312a.js";import{S as k}from"./SuspenseWrapper.28cf0a96.js";import"./PostApi.782cad32.js";import"./Button.769d98f0.js";import"./index.esm.73f68d62.js";const C=({src:e,alt:s})=>t("img",{src:e,width:"480",height:"640",className:"aspect-auto px-2 max-w-full max-h-full object-center  object-cover",decoding:"async"}),P=l.exports.lazy(()=>w(()=>import("./Comment.9ad7de9d.js"),["assets/Comment.9ad7de9d.js","assets/PostIcons.51df312a.js","assets/PostApi.782cad32.js","assets/index.98e253f8.js","assets/index.190101e0.css","assets/Button.769d98f0.js","assets/index.esm.73f68d62.js"])),B=({post:e})=>{var n;const s=p(r=>r.user.currentUser),[m,i]=l.exports.useState(!1),[c,o]=l.exports.useState(!1),d=l.exports.useMemo(()=>new Date(e.createdAt).toLocaleDateString(),[e.createdAt]),x=()=>{i(r=>!r)},f=()=>{o(!c)},u=g(),h=()=>{u(s._id===e.user?"/profile":`/user/${e.user}`)};return a("article",{className:"w-full min-h-[100px]   flex flex-col items-start justify-between my-[10px]  flex-wrap bg-white   rounded-sm border border-[#F5F7F9] shadow-box  ",children:[a("div",{className:"w-full flex  mx-1 text-center  my-1 flex-row items-center justify-between flex-wrap",children:[a("div",{className:"w-auto    flex text-center my-1 flex-row items-center  flex-wrap justify-center",children:[t(v,{src:e.avatar,onClick:h,alt:"User avatar"}),a("div",{className:"flex flex-col items-start justify-center flex-wrap",children:[t("div",{className:"flex flex-row items-center justify-center gap-2 flex-wrap",children:t(N,{className:"lg:text-xl md:text-md sm:text-sm font-bold break-all",to:e.user===s._id?"profile":`/user/${e.user}`,children:e.username})}),t("h1",{className:"text-sm",children:d})]})]}),t("div",{className:"w-auto flex mx-1 items-center justify-center flex-row flex-wrap my-4",children:e.user===s._id&&a("i",{onClick:f,className:" cursor-pointer p-1 ",children:[" ",t(_,{color:`#DC2626\r
`,className:"hover:text-slate-900",size:"1.5em"})]})})]}),a("div",{className:"w-full flex-1 flex text-center  flex-wrap flex-col items-center justify-center",children:[t("div",{className:"text-center break-all text-sm    mx-3  self-start font-normal",children:a("h1",{className:"pt-1 pb-3 my-1 text-lg",children:[" ",e.text]})}),e.image&&t(C,{src:e.image,alt:"Image"})]}),t(y,{commentIconClick:()=>i(r=>!r),likes:e.likes,id:e._id}),e.likes&&t("div",{className:"w-full mx-2 flex items-center justify-start",children:a("h1",{className:"text-lg p-1 font-bold text-gray-900",children:[(n=e.likes)==null?void 0:n.length," likes"]})}),t(b,{handleCommentState:x,id:e._id}),m&&t(k,{children:t(P,{id:e._id})}),c&&t(j,{id:e._id})]},e._id)};export{B as default};
