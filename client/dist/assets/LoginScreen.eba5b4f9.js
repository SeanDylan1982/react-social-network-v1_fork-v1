import{r as f,u as x,m as w,o as h,b as c,j as e,a,N as g,t as b,v as y}from"./index.98e253f8.js";import{B as N}from"./Button.769d98f0.js";import{u as v,a as L}from"./index.esm.73f68d62.js";var j=f.GenIcon,z=function(t){return j({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)};const q=()=>{const s=x(),{register:t,handleSubmit:d,formState:{errors:o}}=v(),m=w(),u=h(),[n,l]=c.exports.useState(""),p=L({mutationFn:y});return s===null?e("div",{className:"w-full flex flex-col  flex-wrap items-center justify-center min-h-[80vh] ",children:a("form",{onSubmit:d(r=>{(r.email!==""||r.password!=="")&&p.mutate({email:r.email,password:r.password},{onSuccess:i=>{m(b(i)),c.exports.startTransition(()=>{l("")})},onError:i=>{l("Incorrect email or password")}})}),className:"flex  w-[100%] md:w-[300px]  bg-white items-center justify-center  flex-col flex-wrap shadow-md rounded min-h-[300px] px-4 py-10 mb-4",children:[e("h1",{className:"text-xl py-2 font-bold font-inter",children:"Login"}),a("div",{className:"mb-6 w-full flex flex-wrap flex-col items-start justify-center",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),e("input",{...t("email",{required:!0,pattern:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"username",type:"email",placeholder:"Your Email",required:!0}),o.email&&e("div",{className:" w-full px-4  flex flex-row flex-1 items-center justify-center  py-4 my-4 leading-normal text-black  bg-red-500 rounded-lg",role:"alert",children:e("p",{children:"Please write a valid email"})})]}),a("div",{className:"mb-6 w-full flex flex-wrap flex-col items-start justify-center",children:[e("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),e("input",{...t("password",{required:!0,minLength:8,maxLength:20}),className:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"password",name:"password",type:"password",placeholder:"Your Password",required:!0}),o.password&&e("div",{className:"px-4 w-64 text-md  text-center flex flex-row flex-1 items-center justify-center py-2  leading-normal text-black my-4  bg-red-500 rounded-lg",role:"alert",children:e("p",{children:" Write a password with minimum 8 characters"})})]}),n!==""?a("div",{className:"px-4  flex flex-row flex-wrap flex-1 items-center justify-between py-4 mb-4 leading-normal text-black  bg-red-500 rounded-lg",role:"alert",children:[e("p",{children:n}),e("i",{className:"cursor-pointer",onClick:r=>l(""),children:e(z,{})})]}):"",e("div",{className:"w-full flex items-center  flex-row flex-wrap justify-center",children:e(N,{type:"submit",bgColor:"bg-deepBlue",margin:"1",size:"fluid",textColor:"white",hover:"gray-800",title:"Sign In"})})]})}):e(g,{to:"/",state:{from:u},replace:!0})};export{q as default};
