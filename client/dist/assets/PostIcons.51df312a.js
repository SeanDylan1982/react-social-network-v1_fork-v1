import{d as v,b as w,l as y,u as b}from"./PostApi.782cad32.js";import{B as h}from"./Button.769d98f0.js";import{G as M,j as e,F as N,a as s,b as C,q as c,r as d,k,u as f,E as z}from"./index.98e253f8.js";import{a as m,u as H}from"./index.esm.73f68d62.js";const j=({open:a,onClose:t,onSubmit:r,children:n})=>a?M.exports.createPortal(e(N,{children:e("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:s("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),e("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e("div",{className:"sm:flex sm:items-start flex-col gap-3 ",children:n})})})]})})}),document.querySelector("#modal")):null,T=({id:a})=>{const[t,r]=C.exports.useState(!0),n=()=>{r(!1)},o=m(v),i=()=>{o.mutate(a,{onSuccess:()=>{c.invalidateQueries(["posts"]),n()}})};return s(j,{open:t,onClose:n,children:[s("div",{className:"w-full flex-col text-center flex items-center justify-center",children:[e("div",{className:"mx-auto my-5 flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:s("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#DC2626",children:[" ",e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})," "]})}),e("div",{className:" py-1 text-center sm:mt-0 sm:ml-4 sm:text-center",children:e("div",{className:"mt-2",children:e("p",{className:"text-md text-gray-500",children:"Are you sure you want to delete this post? This action cannot be undone."})})})]}),s("div",{className:"w-full flex flex-row py-3 lg:items-end lg:justify-end items-center justify-center flex-wrap gap-1",children:[e(h,{margin:1.5,bgColor:"black",size:"base",rounded:"md",title:"Cancel",type:"button",onClick:()=>r(!1)}),e(h,{margin:1.5,title:"Delete",textColor:"white",rounded:"md",size:"base",bgColor:"bg-deepBlue",type:"button",onClick:()=>i})]})]})};var B=d.GenIcon,_=function(t){return B({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M17.004 20L17.003 8h-1-8-1v12H17.004zM13.003 10h2v8h-2V10zM9.003 10h2v8h-2V10zM9.003 4H15.003V6H9.003z"}},{tag:"path",attr:{d:"M5.003,20c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V8h2V6h-3h-1V4c0-1.103-0.897-2-2-2h-6c-1.103,0-2,0.897-2,2v2h-1h-3 v2h2V20z M9.003,4h6v2h-6V4z M8.003,8h8h1l0.001,12H7.003V8H8.003z"}},{tag:"path",attr:{d:"M9.003 10H11.003V18H9.003zM13.003 10H15.003V18H13.003z"}}]})(t)};const S="SINGLE COMMENT KEY",$=({id:a,handleCommentState:t})=>{const{register:r,handleSubmit:n,reset:o}=H(),i=k(),u=f(),g=m(w,{onSuccess:l=>{c.invalidateQueries([S])},onError:l=>{}}),x=l=>{const p={id:a,content:l.content};l.content===""?alert("Type something to add a comment"):(g.mutate(p),t(),o())};return s("div",{className:"w-full   flex text-center my-4  flex-row gap-1 items-center justify-start",children:[e(z,{src:u.avatar,onClick:()=>i("/profile"),alt:"User avatar"}),e("form",{className:"w-auto  flex-1 flex items-start justify-start",onSubmit:n(x),children:e("input",{...r("content"),className:"w-full max-w-[80%] flex-1 md:w-full py-2  bg-light-primary text-gray-900 placeholder-gray-900 border border-gray-300  focus:shadow-outline rounded-lg shadow-box ",placeholder:"   Write a comment"})})]})};var V=d.GenIcon,A=function(t){return V({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(t)},G=d.GenIcon,I=function(t){return G({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(t)},F=d.GenIcon,D=function(t){return F({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(t)};const O=({likes:a,id:t,commentIconClick:r})=>{const n=f(),o=m({mutationFn:y,onSuccess:()=>{c.invalidateQueries(["posts"])}}),i=m({mutationFn:b,onSuccess:()=>{c.invalidateQueries(["posts"])}});return s("div",{className:"w-full  mx-1 py-4 flex text-center flex-row items-center justify-between",children:[s("div",{className:"w-auto flex mx-2 flex-row items-center gap-2 justify-center",children:[e("i",{className:"cursor-pointer",children:a!=null&&a.find(u=>u===n._id)?e(A,{onClick:()=>i.mutate(t),className:" text-[#ED4956] w-7 h-7"}):e(I,{onClick:()=>o.mutate(t),className:" text-gray-700 w-7 h-7  transition duration-500 ease-in-out transform  hover:scale-100 "})}),e("i",{className:"cursor-pointer",children:e(D,{onClick:r,className:"  w-7 text-gray-700 h-7  transition duration-500 ease-in-out transform  hover:scale-100"})})]}),e("div",{})]})};export{$ as A,_ as B,T as D,j as M,O as P,S as s};
